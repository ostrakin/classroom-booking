CREATE DATABASE university;

USE university;

CREATE TABLE buildings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL
);

CREATE TABLE rooms (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    building_id INT,
    capacity INT,
    type ENUM('Лекционные аудитории', 'Семинарские аудитории', 'Лабораторные аудитории', 'Компьютерные классы'),
    FOREIGN KEY (building_id) REFERENCES buildings(id)
);

CREATE TABLE bookings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    room_id INT,
    date DATE,
    time TIME,
    name VARCHAR(255),
    comment TEXT,
    approved BOOLEAN DEFAULT 0,
    FOREIGN KEY (room_id) REFERENCES rooms(id)
);

CREATE TABLE recurring_bookings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    room_id INT,
    start_date DATE,
    end_date DATE,
    time TIME,
    frequency ENUM('weekly', 'monthly', 'quarterly', 'yearly'),
    name VARCHAR(255),
    comment TEXT,
    approved BOOLEAN DEFAULT 0,
    FOREIGN KEY (room_id) REFERENCES rooms(id)
);

INSERT INTO buildings (name) VALUES
('Корпус I'),
('Корпус II'),
('Корпус III'),
('Корпус IV'),
('Корпус V');

INSERT INTO rooms (name, building_id, capacity, type) VALUES
('101', 1, 40, 'Лекционные аудитории'),
('102', 1, 35, 'Семинарские аудитории'),
('103', 1, 25, 'Лабораторные аудитории'),
('104', 1, 15, 'Компьютерные классы'),
('105', 1, 50, 'Лекционные аудитории'),
('106', 1, 30, 'Семинарские аудитории'),
('107', 1, 20, 'Лабораторные аудитории'),
('108', 1, 10, 'Компьютерные классы'),
('201', 2, 45, 'Лекционные аудитории'),
('202', 2, 35, 'Семинарские аудитории'),
('203', 2, 28, 'Лабораторные аудитории'),
('204', 2, 18, 'Компьютерные классы'),
('205', 2, 50, 'Лекционные аудитории'),
('206', 2, 30, 'Семинарские аудитории'),
('207', 2, 22, 'Лабораторные аудитории'),
('208', 2, 15, 'Компьютерные классы'),
('301', 3, 40, 'Лекционные аудитории'),
('302', 3, 35, 'Семинарские аудитории'),
('303', 3, 25, 'Лабораторные аудитории'),
('304', 3, 18, 'Компьютерные классы'),
('305', 3, 50, 'Лекционные аудитории'),
('306', 3, 30, 'Семинарские аудитории'),
('307', 3, 22, 'Лабораторные аудитории'),
('308', 3, 15, 'Компьютерные классы'),
('401', 4, 45, 'Лекционные аудитории'),
('402', 4, 40, 'Семинарские аудитории'),
('403', 4, 30, 'Лабораторные аудитории'),
('404', 4, 20, 'Компьютерные классы'),
('405', 4, 55, 'Лекционные аудитории'),
('406', 4, 35, 'Семинарские аудитории'),
('407', 4, 25, 'Лабораторные аудитории'),
('408', 4, 18, 'Компьютерные классы'),
('501', 5, 40, 'Лекционные аудитории'),
('502', 5, 35, 'Семинарские аудитории'),
('503', 5, 28, 'Лабораторные аудитории'),
('504', 5, 18, 'Компьютерные классы'),
('505', 5, 50, 'Лекционные аудитории'),
('506', 5, 30, 'Семинарские аудитории'),
('507', 5, 22, 'Лабораторные аудитории'),
('508', 5, 15, 'Компьютерные классы'),
('509', 5, 45, 'Лекционные аудитории'),
('510', 5, 40, 'Семинарские аудитории'),
('511', 5, 35, 'Лабораторные аудитории'),
('512', 5, 25, 'Компьютерные классы'),
('513', 5, 20, 'Лекционные аудитории'),
('514', 5, 18, 'Семинарские аудитории'),
('515', 5, 15, 'Лабораторные аудитории');